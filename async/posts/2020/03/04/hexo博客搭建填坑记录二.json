{"tags":[{"name":"博客搭建","permalink":"https://xuanxiaoming.github.io/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/","url":"/async/tags/博客搭建.json","count":3}],"categories":[],"url":"/async/posts/2020/03/04/hexo博客搭建填坑记录二.json","date":1583321212000,"path":{"year":2020,"month":3,"day":4,"name":"hexo博客搭建填坑记录二"},"title":"Hexo博客搭建填坑记录 二","permalink":"https://xuanxiaoming.github.io/2020/03/04/hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%A1%AB%E5%9D%91%E8%AE%B0%E5%BD%95%E4%BA%8C/","content":"<blockquote>\n<p>在博客的维护和更新过程中我遇到了很多琐碎的小问题，我决定新建立一篇文章，用于记录这些小问题和解决办法。<br>由于内容过于琐碎，所以我就直接列表记录了，他们之间并无逻辑关联。 </p>\n</blockquote>\n<br> \n\n<blockquote>\n<p><font style=\"font-size:120%\"> <strong>修改首页左侧导航栏列表循序</strong>  </font></p>\n</blockquote>\n<p>我发现主题的创建者只将归档(archive)这个页面单独做了处理，而我新加入的页面直接是对<code>site.pages</code>这个变量做了一个遍历，这导致我无法控制列表的排布，显得很乱，所以我最终的解决方案是直接将中间这段代码注释掉，将<code>&lt;a&gt;</code>标签内容写了进去，很简单粗暴的解决办法。  </p>\n<pre><code>&lt;% if (theme.archives) { %&gt;\n&lt;a class=&quot;a-block no-tint nav-link-item &lt;%= is_current(&#39;archives&#39;) &amp;&amp; &#39;active&#39; %&gt;&quot; href=&quot;&lt;%= config.root + &quot;archives&quot; %&gt;&quot;&gt;\n    &lt;%= __(&#39;Archive&#39;) %&gt;\n&lt;/a&gt;\n&lt;% } %&gt;\n\n&lt;% if(site.pages){ %&gt;\n&lt;% site.pages.each(function (page){ %&gt;\n&lt;a class=&quot;a-block nav-link-item &lt;%= is_current(page.path) &amp;&amp; &#39;active&#39; %&gt;&quot; href=&quot;&lt;%= config.root + page.path %&gt;&quot;&gt;\n    &lt;%= page.title %&gt;\n&lt;/a&gt;\n&lt;% });} %&gt;\n\n&lt;% if (theme.rss) { %&gt;\n&lt;a class=&quot;a-block no-tint nav-link-item&quot; href=&quot;&lt;%= config.root + theme.rss %&gt;&quot;&gt;\n    &lt;%= __(&#39;RSS&#39;) %&gt;\n&lt;/a&gt;\n&lt;% } %&gt;  </code></pre><p>之后我又发现PC网页上的导航顺序没问题了，但是移动端的页面列表循序还是乱的，在仔细核查了主题作者的代码后，我终于在另一个文件中找到了，为了方便以后修改，我在此记录一下。 </p>\n<pre><code>side_nav.ejs —— PC端的导航模块\nsingle_column_head.ejs —— 移动端的导航模块  </code></pre><br>\n\n<blockquote>\n<p><font style=\"font-size:120%\"> <strong>SSL证书申请，配置强制跳转https</strong> </font>  </p>\n</blockquote>\n<p>这块是这样的， 我上次在阿里云注册https的时候， 阿里云那边出了bug， 就是SSL证书那块我一直申请不下来（阿里云的免费SSL）， 点不动那个按钮， 所以就一直用http访问到现在， 这次我上阿里云的控制面板试探性的点了一下，发现这个可以申请了， 然后我就把https给配置好了。 为什么我一直要配置https呢，因为现在的浏览器，比如Safari、Chrome，他们都会把非https的连接标记为非安全连接，实际上你作为建站人你自己是知道的，就是一个博客而已什么也没干，但是这块就是让人很憋屈。  </p>\n<p>配置完这个https之后，我平时访问的时候，我发现还是会有http的访问，起初我以为是浏览器缓存的问题，但是并不是这样，后来我改了很多东西，甚至怀疑到了CNAME这个文件上，现在想想真是可笑至极。最后这个问题我在阿里云的全站加速的配置里找到了。如图所示，修改下强制跳转就行。  </p>\n<p><img src=\"https://xxmblog-1256516391.cos.ap-nanjing.myqcloud.com/202205280533856.png\" alt=\"强制跳转\">  </p>\n<br>\n\n<blockquote>\n<p><font style=\"font-size:120%\"> <strong>CNAME文件与hexo忽略文件</strong> </font>  </p>\n</blockquote>\n<p>这个文件是做什么的，我就不说了，直接网上查一下就有。它在github中的作用是告诉gitHub page服务你的自定义域名是什么，顾名思义，这个文件里面填的就是你的域名，没别的了。</p>\n<p>在和hexo连用的时候我发现一个问题，当我执行<code>hexo clean</code>命令后，会将public文件夹下的文件全部删除，包括CNAME。这时候有两种解决办法，一是将CNAME文件放到source文件夹下，这样在<code>hexo g</code>后会将该文件原封不动copy到public文件夹下，避免了clean的删除。二是在hexo的全局配置文件里加入忽略文件（hexo会默认忽略“.”开头的和隐藏的文件）</p>\n<p><img src=\"https://xxmblog-1256516391.cos.ap-nanjing.myqcloud.com/202205280532219.png\" alt=\"hexoConfig\">  </p>\n<p>举例：  </p>\n<pre><code># Include/Exclude Files/Folders\ninclude:\n    - &quot;.nojekyll&quot;\n    # 包括 &#39;source/css/_typing.css&#39;\n    - &quot;css/_typing.css&quot;\n    # 包括 &#39;source/_css/&#39; 中的任何文件，但不包括子目录及其其中的文件。\n    - &quot;_css/*&quot;\n    # 包含 &#39;source/_css/&#39; 中的任何文件和子目录下的任何文件\n    - &quot;_css/**/*&quot;\n\nexclude:\n    # 不包括 &#39;source/js/test.js&#39;\n    - &quot;js/test.js&quot;\n    # 不包括 &#39;source/js/&#39; 中的文件、但包括子目录下的所有目录和文件\n    - &quot;js/*&quot;\n    # 不包括 &#39;source/js/&#39; 中的文件和子目录下的任何文件\n    - &quot;js/**/*&quot;\n    # 不包括 &#39;source/js/&#39; 目录下的所有文件名以 &#39;test&#39; 开头的文件，但包括其它文件和子目录下的单文件\n    - &quot;js/test*&quot;\n    # 不包括 &#39;source/js/&#39; 及其子目录中任何以 &#39;test&#39; 开头的文件\n    - &quot;js/**/test*&quot;\n    # 不要用 exclude 来忽略 &#39;source/_posts/&#39; 中的文件。你应该使用 &#39;skip_render&#39;，或者在要忽略的文件的文件名之前加一个下划线 &#39;_&#39;\n    # 在这里配置一个 - &quot;_posts/hello-world.md&quot; 是没有用的。\n\nignore:\n    # Ignore any folder named &#39;foo&#39;.\n    - &quot;**/foo&quot;\n    # Ignore &#39;foo&#39; folder in &#39;themes/&#39; only.\n    - &quot;**/themes/*/foo&quot;\n    # Same as above, but applies to every subfolders of &#39;themes/&#39;.\n    - &quot;**/themes/**/foo&quot;</code></pre><p> 我用的是第一种方法解决的，第二种方法我没试，不过官方文档里都写了，所以也是一种合格的解决办法。</p>\n<br>\n\n<blockquote>\n<p><font style=\"font-size:120%\"> <strong>创建标签页</strong> </font>  </p>\n</blockquote>\n<p>主题作者只写了按时间归档的页面，标签页并没有写，甚至在使用文档里也没有说明（这个说明文档非常的简陋，issue里面一片哀嚎），但是hexo是自己支持标签分类的，我们只需要稍加配置一下即可。</p>\n<p><a href=\"https://github.com/SumiMakito/hexo-theme-Journal/issues/20#issuecomment-551090136\" target=\"_blank\" rel=\"noopener\">参考这篇issue里面AmazingRise的回答</a>：  </p>\n<p><img src=\"https://xxmblog-1256516391.cos.ap-nanjing.myqcloud.com/202205280533025.png\" alt=\"标签页配置\">  </p>\n<br>\n\n<blockquote>\n<p><font style=\"font-size:120%\"> <strong>SEO优化</strong> </font>  </p>\n</blockquote>\n<p>参考这篇博文 –&gt; <a href=\"https://hoxis.github.io/Hexo+Next%20SEO%E4%BC%98%E5%8C%96.html\" target=\"_blank\" rel=\"noopener\">Hexo博客Next主题SEO优化方法</a>  </p>\n<p>说的很详细，我就不赘述了。</p>\n"}